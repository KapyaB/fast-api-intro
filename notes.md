# FAST API TUTORIAL NOTES #

*$ pip install fastapi*
*$ pip install uvicorn*

> uvocorn is an ASGI (Asynchronous Server Gateway Interface) web server implementation for python. Allows us to run the web app

## CREATING THE APP
*app = FastAPI()* creates our application/API as an instance of the fastapi object

## CREATING ENDPOINTS
@app.get(path), @app.post(), @app.put(), @app.delete()
then define a function right beneath with a return statement that returns json response

## RUN A SERVER
Running server (with [Uvicorn](https://www.uvicorn.org/))
*$ uvicorn <app file name>:<FastAPI instance name> --reload* (for autoreload)
/docs shows autogenerated documentation for the api which also allows testing the endpoints in much the same way as postman does

## Endpoint parameters
- Used to access/return data related to a parameter

### path parameters
- "/path/{param}"
- in function pass the param as an arg and specifiy its data type e.g. def get_people(age: int)
- import Path from api to add more data to the path params such as default, description, greater than (gt), less than (lt), etc useful for error auto-gen error messages

### query parameters
- used to pass values in the url
- "..url?*query_name=value*"
- does not need to be prewritten in the path definotion like path parameters
- we tell a function to expect a query paramter by specifying it in the function e.g. *def get-person(name:str)* name has to be passed as a query param
- required by default, to make optional: (e.g.) def get-person(name:Optional\[str\]**=None**) with *Optionl* from *typing* package

#### multiple/unlimited query parameters
- *, before parameters as an argument

### Combining Path and Query Parameters
- pass param as usual. if path has param in it, it will be taken as such else it will be taken as a query param

## REQUEST BODY & POST METHOD
- request body is for passing the data we want to create a new object for/with
- *from pydantic import BaseModel*
- create models as classes: e.g. *class Person(BaseModel):*
- request body must match the model
- accessed in the path function like a path parameter with the type specified as the model e.g. *def create_person(person: Person)* where person is the expected request body and Person is the name of the Model

## PUT METHOD
- update already existing data
- works like post except the data fields become optional: may need to create a new model with the same fields as the one used in post except every field here is optional
- On updating Check each field and only update the  appropriate one otherwise, overiding the object will result to null for fields that were left blank in the request model

## DELETE METHOD
- delete data